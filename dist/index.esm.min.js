import"reflect-metadata";import{__extends as n}from"tslib";import t from"hoist-non-react-statics";import{Component as r,createContext as i,createElement as u,useContext as o,useRef as e,Fragment as f}from"react";function c(n){return"function"==typeof n}function a(n){return n&&"object"==typeof n}var v="function"==typeof Symbol?Symbol():"__injector__",l=i({}),s=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r}(r);function b(n){var t,r=n[v];return r||((r=d||(null===(t=n.context)||void 0===t?void 0:t.injector))instanceof s?(n[v]=r,r):void 0)}var d=null;function m(n,t){for(y.length>0&&(y.forEach(function(n){n()}),y.length=0);n;){var r=n.t.get(t);if(void 0!==r)return r;var i=n.i.get(t);if(i){var u=d;d=n;try{r=i(n)}finally{d=u}return n.t.set(t,r),n.u(r),r}n=n.o}}var y=[];function h(n,t){if(c(t))return p(n,t);var r=n;return t?i(r,t):i;function i(n,t){n.constructor.contextType=l,r||(r=Reflect.getMetadata("design:type",n,t));var i={configurable:!0,enumerable:!0,get:function(){var n=p(this,r);return Object.defineProperty(this,t,{enumerable:!0,writable:!0,value:n}),n},set:function(n){Object.defineProperty(this,t,{enumerable:!0,writable:!0,value:n})}};return Object.defineProperty(n,t,i),i}}function p(n,t){return m(b(n),t)}var _="function"==typeof Symbol?Symbol():"__binding__";function j(n){return O(function(t){var r=new n;return r[v]||(r[v]=t),r})}function S(n,t){return O(t?function(r){return t.apply(void 0,n.map(function(n){return m(r,n)}))}:n)}function g(n){return O(function(){return n})}function w(n){return O(function(t){return m(t,n)})}function O(n){return n[_]=!0,n}function I(n,t){t.forEach(function(t){var r,i,u;"object"==typeof t&&t.token&&t.binding&&(i=t.token,u=t.binding),Array.isArray(t)?(i=t[0],u=void 0===(r=t[1])?i:r):i=u=t,n.set(i,u[_]?u:j(u))})}var M="function"==typeof Symbol?Symbol():"__init__",R=function(){return function(){}}(),x=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return function(i){var o=new Map;I(o,r);var e=function(t){function r(){var n,r=t.apply(this,arguments)||this;return r.o=null===(n=r.context)||void 0===n?void 0:n.injector,r.i=o,r.t=new Map,r.state={injector:r},r}return n(r,t),r.prototype.u=function(n){var t=this;n instanceof R&&!n[M]&&(n.initProvider(function(){return t.setState({injector:t})}),n[M]=!0)},r.prototype.componentDidMount=function(){var n=this;this.t.forEach(function(t){n.u(t)})},r.prototype.componentWillUnmount=function(){this.t.forEach(function(n){a(n)&&c(n.dispose)&&n.dispose()})},r.prototype.render=function(){return u(l.Provider,{value:this.state},u(i,this.props))},r.register=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];I(o,n)},r.WrappedComponent=i,r}(s);return e.contextType=l,t(e,i)}},A=function(n,t){return function(r){return y.push(function(){n().register(t?[r,t]:r)}),r}};function P(n){var t,r=e(void 0),i=null===(t=o(l))||void 0===t?void 0:t.injector;return r.current||(r.current=m(i,n))}function k(){for(var n,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e(null),u=null===(n=o(l))||void 0===n?void 0:n.injector;return i.current||(i.current=t.map(function(n){return m(u,n)}))}var q=function(n){var t=n.children;return u(f,null,t)},z=function(n){var t=n.services,r=n.children,i=e(x.apply(void 0,t)(q));return u(i.current,null,r)};export{R as InjectedService,h as inject,x as provider,A as registerIn,h as Inject,x as Provider,A as RegisterIn,j as toClass,w as toExisting,S as toFactory,g as toValue,P as useInstance,k as useInstances,z as ComponentWithServices};
//# sourceMappingURL=index.esm.min.js.map
