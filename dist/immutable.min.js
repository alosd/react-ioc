"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("hoist-non-react-statics");var t=require("tslib"),i=require("react"),n=require("immer"),r=i.createContext({}),e=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return t.__extends(n,i),n}(i.Component),o=function(){return function(){}}(),s="function"==typeof Symbol?Symbol():"__store__",u="function"==typeof Symbol?Symbol():"__stores__",c="function"==typeof Symbol?Symbol():"__refresh__",h=function(){function t(t){this.count=0,this.service=t}return t.prototype.start=function(t){var i,r=this;if(void 0===t&&(t=!0),0==this.count){var e=this.draft=null!==(i=this.draft)&&void 0!==i?i:n.createDraft(this.service);this.service[u].forEach(function(t){r.service[t]=e[t]})}t&&this.count++},t.prototype.finish=function(t,i){var r=this;if(void 0===t&&(t=!0),void 0===i&&(i=!0),0==this.count)console.warn("the finish method must be called after corresponding start method");else if(i&&this.count--,0==this.count){var e=this.draft;if(e){this.service[u].forEach(function(t){e[t]=r.service[t]});var o=n.finishDraft(e);this.service[u].forEach(function(t){r.service[t]=o[t]}),this.draft=void 0}}t&&this.service.RefreshContext()},t}(),f=function(i){function r(){var t,r=i.call(this)||this;return r[u]=null!==(t=r[u])&&void 0!==t?t:[],r[n.immerable]=!0,r[s]=new h(r),r}return t.__extends(r,i),r.prototype.initProvider=function(t){this[c]=t,this[s].start(),this[s].finish()},r.prototype.RefreshContext=function(){this[c]&&this[c]()},r.prototype.waitForAsync=function(i){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:this[s].finish(!0,!1),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,i];case 2:return[2,t.sent()];case 3:return this[s].start(!1),[7];case 4:return[2]}})})},r}(o);function a(){return function(t,i){var n,r=t;r[u]=null!==(n=r[u])&&void 0!==n?n:[],r[u].push(i)}}var v=function(i,n){return t.__awaiter(void 0,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),[4,n];case 1:return[2,t.sent()];case 2:return i[s].finish(),[7];case 3:return[2]}})})},l=function(t){return t&&"function"==typeof t.then};function d(){return function(t,i,n){var r=n.value;n.value=function(t){this[s].start();var i=!1;try{var n=r.call(this,t);return(i=l(n))?v(this,n):n}finally{i||this[s].finish()}}}}exports.original=n.original,exports.enableES5=n.enableES5,exports.enableMapSet=n.enableMapSet,exports.ImmutableService=f,exports.action=d,exports.store=a;
//# sourceMappingURL=immutable.min.js.map
