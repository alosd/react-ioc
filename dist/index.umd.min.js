!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n(t.ReactIoC={},t.React)}(this,function(t,n){"use strict";var r,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,n){return t(n={exports:{}},n.exports),n.exports}!function(t){!function(n){var r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(t);function o(t,n){return function(r,e){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:e}),n&&n(r,e)}}void 0===r.Reflect?r.Reflect=t:i=o(r.Reflect,i),function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,e=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,u={__proto__:[]}instanceof Array,f=!o&&!u,c={create:o?function(){return C(Object.create(null))}:u?function(){return C({__proto__:null})}:function(){return C({})},has:f?function(t,r){return n.call(t,r)}:function(t,n){return n in t},get:f?function(t,r){return n.call(t,r)?t[r]:void 0}:function(t,n){return t[n]}},a=Object.getPrototypeOf(Function),s="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=s||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},n=[],r=function(){function t(t,n,r){this.W=0,this.L=t,this.q=n,this.G=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this.W;if(t>=0&&t<this.L.length){var r=this.G(this.L[t],this.q[t]);return t+1>=this.L.length?(this.W=-1,this.L=n,this.q=n):this.W++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this.W>=0&&(this.W=-1,this.L=n,this.q=n),t},t.prototype.return=function(t){return this.W>=0&&(this.W=-1,this.L=n,this.q=n),{value:t,done:!0}},t}();return function(){function n(){this.L=[],this.q=[],this.V=t,this.X=-2}return Object.defineProperty(n.prototype,"size",{get:function(){return this.L.length},enumerable:!0,configurable:!0}),n.prototype.has=function(t){return this.B(t,!1)>=0},n.prototype.get=function(t){var n=this.B(t,!1);return n>=0?this.q[n]:void 0},n.prototype.set=function(t,n){var r=this.B(t,!0);return this.q[r]=n,this},n.prototype.delete=function(n){var r=this.B(n,!1);if(r>=0){for(var e=this.L.length,i=r+1;i<e;i++)this.L[i-1]=this.L[i],this.q[i-1]=this.q[i];return this.L.length--,this.q.length--,n===this.V&&(this.V=t,this.X=-2),!0}return!1},n.prototype.clear=function(){this.L.length=0,this.q.length=0,this.V=t,this.X=-2},n.prototype.keys=function(){return new r(this.L,this.q,e)},n.prototype.values=function(){return new r(this.L,this.q,o)},n.prototype.entries=function(){return new r(this.L,this.q,u)},n.prototype["@@iterator"]=function(){return this.entries()},n.prototype[i]=function(){return this.entries()},n.prototype.B=function(t,n){return this.V!==t&&(this.X=this.L.indexOf(this.V=t)),this.X<0&&n&&(this.X=this.L.length,this.L.push(t),this.q.push(void 0)),this.X},n}();function e(t,n){return t}function o(t,n){return n}function u(t,n){return[t,n]}}():Map,v=s||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this.H=new l}return Object.defineProperty(t.prototype,"size",{get:function(){return this.H.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this.H.has(t)},t.prototype.add=function(t){return this.H.set(t,t),this},t.prototype.delete=function(t){return this.H.delete(t)},t.prototype.clear=function(){this.H.clear()},t.prototype.keys=function(){return this.H.keys()},t.prototype.values=function(){return this.H.values()},t.prototype.entries=function(){return this.H.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,h=new(s||"function"!=typeof WeakMap?function(){var t=16,r=c.create(),e=i();return function(){function t(){this.Y=i()}return t.prototype.has=function(t){var n=o(t,!1);return void 0!==n&&c.has(n,this.Y)},t.prototype.get=function(t){var n=o(t,!1);return void 0!==n?c.get(n,this.Y):void 0},t.prototype.set=function(t,n){var r=o(t,!0);return r[this.Y]=n,this},t.prototype.delete=function(t){var n=o(t,!1);return void 0!==n&&delete n[this.Y]},t.prototype.clear=function(){this.Y=i()},t}();function i(){var t;do{t="@@WeakMap@@"+f()}while(c.has(r,t));return r[t]=!0,t}function o(t,r){if(!n.call(t,e)){if(!r)return;Object.defineProperty(t,e,{value:c.create()})}return t[e]}function u(t,n){for(var r=0;r<n;++r)t[r]=255*Math.random()|0;return t}function f(){var n=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):u(new Uint8Array(t),t);return u(new Array(t),t)}(t);n[6]=79&n[6]|64,n[8]=191&n[8]|128;for(var r="",e=0;e<t;++e){var i=n[e];4!==e&&6!==e&&8!==e||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function y(t,n,r){var e=h.get(t);if(S(e)){if(!r)return;e=new l,h.set(t,e)}var i=e.get(n);if(S(i)){if(!r)return;i=new l,e.set(n,i)}return i}function d(t,n,r){var e=y(n,r,!1);return!S(e)&&!!e.has(t)}function p(t,n,r){var e=y(n,r,!1);if(!S(e))return e.get(t)}function b(t,n,r,e){var i=y(r,e,!0);i.set(t,n)}function m(t,n){var r=[],e=y(t,n,!1);if(S(e))return r;for(var o=e.keys(),u=function(t){var n=E(t,i);if(!M(n))throw new TypeError;var r=n.call(t);if(!O(r))throw new TypeError;return r}(o),f=0;;){var c=A(u);if(!c)return r.length=f,r;var a=c.value;try{r[f]=a}catch(t){try{x(u)}finally{throw t}}f++}}function w(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function S(t){return void 0===t}function j(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function _(t,n){switch(w(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===n?"string":5===n?"number":"default",i=E(t,e);if(void 0!==i){var o=i.call(t,r);if(O(o))throw new TypeError;return o}return function(t,n){if("string"===n){var r=t.toString;if(M(r)){var e=r.call(t);if(!O(e))return e}var i=t.valueOf;if(M(i)){var e=i.call(t);if(!O(e))return e}}else{var i=t.valueOf;if(M(i)){var e=i.call(t);if(!O(e))return e}var o=t.toString;if(M(o)){var e=o.call(t);if(!O(e))return e}}throw new TypeError}(t,"default"===r?"number":r)}function g(t){var n=_(t,3);return"symbol"==typeof n?n:function(t){return""+t}(n)}function T(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function M(t){return"function"==typeof t}function P(t){return"function"==typeof t}function E(t,n){var r=t[n];if(null!=r){if(!M(r))throw new TypeError;return r}}function A(t){var n=t.next();return!n.done&&n}function x(t){var n=t.return;n&&n.call(t)}function I(t){var n=Object.getPrototypeOf(t);if("function"!=typeof t||t===a)return n;if(n!==a)return n;var r=t.prototype,e=r&&Object.getPrototypeOf(r);if(null==e||e===Object.prototype)return n;var i=e.constructor;return"function"!=typeof i?n:i===t?n:i}function C(t){return t.__=void 0,delete t.__,t}t("decorate",function(t,n,r,e){if(S(r)){if(!T(t))throw new TypeError;if(!P(n))throw new TypeError;return function(t,n){for(var r=t.length-1;r>=0;--r){var e=t[r],i=e(n);if(!S(i)&&!j(i)){if(!P(i))throw new TypeError;n=i}}return n}(t,n)}if(!T(t))throw new TypeError;if(!O(n))throw new TypeError;if(!O(e)&&!S(e)&&!j(e))throw new TypeError;return j(e)&&(e=void 0),r=g(r),function(t,n,r,e){for(var i=t.length-1;i>=0;--i){var o=t[i],u=o(n,r,e);if(!S(u)&&!j(u)){if(!O(u))throw new TypeError;e=u}}return e}(t,n,r,e)}),t("metadata",function(t,n){return function(r,e){if(!O(r))throw new TypeError;if(!S(e)&&!function(t){switch(w(t)){case 3:case 4:return!0;default:return!1}}(e))throw new TypeError;b(t,n,r,e)}}),t("defineMetadata",function(t,n,r,e){if(!O(r))throw new TypeError;S(e)||(e=g(e));return b(t,n,r,e)}),t("hasMetadata",function(t,n,r){if(!O(n))throw new TypeError;S(r)||(r=g(r));return function t(n,r,e){var i=d(n,r,e);if(i)return!0;var o=I(r);if(!j(o))return t(n,o,e);return!1}(t,n,r)}),t("hasOwnMetadata",function(t,n,r){if(!O(n))throw new TypeError;S(r)||(r=g(r));return d(t,n,r)}),t("getMetadata",function(t,n,r){if(!O(n))throw new TypeError;S(r)||(r=g(r));return function t(n,r,e){var i=d(n,r,e);if(i)return p(n,r,e);var o=I(r);if(!j(o))return t(n,o,e);return}(t,n,r)}),t("getOwnMetadata",function(t,n,r){if(!O(n))throw new TypeError;S(r)||(r=g(r));return p(t,n,r)}),t("getMetadataKeys",function(t,n){if(!O(t))throw new TypeError;S(n)||(n=g(n));return function t(n,r){var e=m(n,r);var i=I(n);if(null===i)return e;var o=t(i,r);if(o.length<=0)return e;if(e.length<=0)return o;var u=new v;var f=[];for(var c=0,a=e;c<a.length;c++){var s=a[c],l=u.has(s);l||(u.add(s),f.push(s))}for(var h=0,y=o;h<y.length;h++){var s=y[h],l=u.has(s);l||(u.add(s),f.push(s))}return f}(t,n)}),t("getOwnMetadataKeys",function(t,n){if(!O(t))throw new TypeError;S(n)||(n=g(n));return m(t,n)}),t("deleteMetadata",function(t,n,r){if(!O(n))throw new TypeError;S(r)||(r=g(r));var e=y(n,r,!1);if(S(e))return!1;if(!e.delete(t))return!1;if(e.size>0)return!0;var i=h.get(n);return i.delete(r),i.size>0||(h.delete(n),!0)})}(i)}()}(r||(r={}));var o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function u(t,n){function r(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function f(t,n,r,e){return new(r||(r=Promise))(function(i,o){function u(t){try{c(e.next(t))}catch(t){o(t)}}function f(t){try{c(e.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?i(t.value):(n=t.value,n instanceof r?n:new r(function(t){t(n)})).then(u,f)}c((e=e.apply(t,n||[])).next())})}function c(t,n){var r,e,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function f(o){return function(f){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,e&&(i=2&o[0]?e.return:o[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,o[1])).done)return i;switch(e=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,e=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=n.call(t,u)}catch(t){o=[6,t],e=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,f])}}}function a(t){return"function"==typeof t}var s="function"==typeof Symbol?Symbol():"__injector__",l=n.createContext({}),v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return u(n,t),n}(n.Component);var h=null;function y(t,n){for(d.length>0&&(d.forEach(function(t){t()}),d.length=0);t;){var r=t.Z.get(n);if(void 0!==r)return r;var e=t.tt.get(n);if(e){var i=h;h=t;try{r=e(t)}finally{h=i}return t.Z.set(n,r),t.nt(r),r}t=t.rt}}var d=[];function p(t,n){if(a(n))return b(t,n);var r=t;return n?e(r,n):e;function e(t,n){t.constructor.contextType=l,r||(r=Reflect.getMetadata("design:type",t,n));var e={configurable:!0,enumerable:!0,get:function(){var t=b(this,r);return Object.defineProperty(this,n,{enumerable:!0,writable:!0,value:t}),t},set:function(t){Object.defineProperty(this,n,{enumerable:!0,writable:!0,value:t})}};return Object.defineProperty(t,n,e),e}}function b(t,n){return y(function(t){var n,r=t[s];return r||((r=h||(null===(n=t.context)||void 0===n?void 0:n.injector))instanceof v?(t[s]=r,r):void 0)}(t),n)}var m="function"==typeof Symbol&&Symbol.for,w=m?Symbol.for("react.element"):60103,S=m?Symbol.for("react.portal"):60106,j=m?Symbol.for("react.fragment"):60107,O=m?Symbol.for("react.strict_mode"):60108,_=m?Symbol.for("react.profiler"):60114,g=m?Symbol.for("react.provider"):60109,T=m?Symbol.for("react.context"):60110,M=m?Symbol.for("react.async_mode"):60111,P=m?Symbol.for("react.concurrent_mode"):60111,E=m?Symbol.for("react.forward_ref"):60112,A=m?Symbol.for("react.suspense"):60113,x=m?Symbol.for("react.suspense_list"):60120,I=m?Symbol.for("react.memo"):60115,C=m?Symbol.for("react.lazy"):60116,k=m?Symbol.for("react.block"):60121,R=m?Symbol.for("react.fundamental"):60117,F=m?Symbol.for("react.responder"):60118,z=m?Symbol.for("react.scope"):60119;function D(t){if("object"==typeof t&&null!==t){var n=t.$$typeof;switch(n){case w:switch(t=t.type){case M:case P:case j:case _:case O:case A:return t;default:switch(t=t&&t.$$typeof){case T:case E:case C:case I:case g:return t;default:return n}}case S:return n}}}function N(t){return D(t)===P}var $={AsyncMode:M,ConcurrentMode:P,ContextConsumer:T,ContextProvider:g,Element:w,ForwardRef:E,Fragment:j,Lazy:C,Memo:I,Portal:S,Profiler:_,StrictMode:O,Suspense:A,isAsyncMode:function(t){return N(t)||D(t)===M},isConcurrentMode:N,isContextConsumer:function(t){return D(t)===T},isContextProvider:function(t){return D(t)===g},isElement:function(t){return"object"==typeof t&&null!==t&&t.$$typeof===w},isForwardRef:function(t){return D(t)===E},isFragment:function(t){return D(t)===j},isLazy:function(t){return D(t)===C},isMemo:function(t){return D(t)===I},isPortal:function(t){return D(t)===S},isProfiler:function(t){return D(t)===_},isStrictMode:function(t){return D(t)===O},isSuspense:function(t){return D(t)===A},isValidElementType:function(t){return"string"==typeof t||"function"==typeof t||t===j||t===P||t===_||t===O||t===A||t===x||"object"==typeof t&&null!==t&&(t.$$typeof===C||t.$$typeof===I||t.$$typeof===g||t.$$typeof===T||t.$$typeof===E||t.$$typeof===R||t.$$typeof===F||t.$$typeof===z||t.$$typeof===k)},typeOf:D},U=i(function(t,n){"production"!==process.env.NODE_ENV&&function(){var t="function"==typeof Symbol&&Symbol.for,r=t?Symbol.for("react.element"):60103,e=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,f=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,a=t?Symbol.for("react.async_mode"):60111,s=t?Symbol.for("react.concurrent_mode"):60111,l=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,d=t?Symbol.for("react.lazy"):60116,p=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,m=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function S(t){if("object"==typeof t&&null!==t){var n=t.$$typeof;switch(n){case r:var h=t.type;switch(h){case a:case s:case i:case u:case o:case v:return h;default:var p=h&&h.$$typeof;switch(p){case c:case l:case d:case y:case f:return p;default:return n}}case e:return n}}}var j=a,O=s,_=c,g=f,T=r,M=l,P=i,E=d,A=y,x=e,I=u,C=o,k=v,R=!1;function F(t){return S(t)===s}n.AsyncMode=j,n.ConcurrentMode=O,n.ContextConsumer=_,n.ContextProvider=g,n.Element=T,n.ForwardRef=M,n.Fragment=P,n.Lazy=E,n.Memo=A,n.Portal=x,n.Profiler=I,n.StrictMode=C,n.Suspense=k,n.isAsyncMode=function(t){return R||(R=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),F(t)||S(t)===a},n.isConcurrentMode=F,n.isContextConsumer=function(t){return S(t)===c},n.isContextProvider=function(t){return S(t)===f},n.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},n.isForwardRef=function(t){return S(t)===l},n.isFragment=function(t){return S(t)===i},n.isLazy=function(t){return S(t)===d},n.isMemo=function(t){return S(t)===y},n.isPortal=function(t){return S(t)===e},n.isProfiler=function(t){return S(t)===u},n.isStrictMode=function(t){return S(t)===o},n.isSuspense=function(t){return S(t)===v},n.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===s||t===u||t===o||t===v||t===h||"object"==typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===y||t.$$typeof===f||t.$$typeof===c||t.$$typeof===l||t.$$typeof===b||t.$$typeof===m||t.$$typeof===w||t.$$typeof===p)},n.typeOf=S}()}),K=(U.AsyncMode,U.ConcurrentMode,U.ContextConsumer,U.ContextProvider,U.Element,U.ForwardRef,U.Fragment,U.Lazy,U.Memo,U.Portal,U.Profiler,U.StrictMode,U.Suspense,U.isAsyncMode,U.isConcurrentMode,U.isContextConsumer,U.isContextProvider,U.isElement,U.isForwardRef,U.isFragment,U.isLazy,U.isMemo,U.isPortal,U.isProfiler,U.isStrictMode,U.isSuspense,U.isValidElementType,U.typeOf,i(function(t){"production"===process.env.NODE_ENV?t.exports=$:t.exports=U})),W={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},J={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q={};function G(t){return K.isMemo(t)?L:q[t.$$typeof]||W}q[K.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},q[K.Memo]=L;var V=Object.defineProperty,X=Object.getOwnPropertyNames,B=Object.getOwnPropertySymbols,H=Object.getOwnPropertyDescriptor,Q=Object.getPrototypeOf,Y=Object.prototype;var Z=function t(n,r,e){if("string"!=typeof r){if(Y){var i=Q(r);i&&i!==Y&&t(n,i,e)}var o=X(r);B&&(o=o.concat(B(r)));for(var u=G(n),f=G(r),c=0;c<o.length;++c){var a=o[c];if(!(J[a]||e&&e[a]||f&&f[a]||u&&u[a])){var s=H(r,a);try{V(n,a,s)}catch(t){}}}}return n},tt="function"==typeof Symbol?Symbol():"__binding__";function nt(t){return rt(function(n){var r=new t;return r[s]||(r[s]=n),r})}function rt(t){return t[tt]=!0,t}function et(t,n){n.forEach(function(n){var r,e,i;Array.isArray(n)?(e=n[0],i=void 0===(r=n[1])?e:r):e=i=n,t.set(e,i[tt]?i:nt(i))})}var it="function"==typeof Symbol?Symbol():"__init__",ot=function(){return function(){}}(),ut=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){var e=new Map;et(e,t);var i=function(t){function i(){var n,r=t.apply(this,arguments)||this;return r.rt=null===(n=r.context)||void 0===n?void 0:n.injector,r.tt=e,r.Z=new Map,r}return u(i,t),i.prototype.nt=function(t){var n=this;t instanceof ot&&!t[it]&&(t.initProvider(function(){return n.setState({injector:n})}),t[it]=!0)},i.prototype.componentDidMount=function(){var t=this;this.Z.forEach(function(n){t.nt(n)})},i.prototype.componentWillUnmount=function(){this.Z.forEach(function(t){var n;(n=t)&&"object"==typeof n&&a(t.dispose)&&t.dispose()})},i.prototype.render=function(){return n.createElement(l.Provider,{value:{injector:this}},n.createElement(r,this.props))},i.register=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];et(e,t)},i.WrappedComponent=r,i}(v);return i.contextType=l,Z(i,r)}},ft=function(t,n){return function(r){return d.push(function(){t().register(n?[r,n]:r)}),r}};function ct(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];if("production"!==process.env.NODE_ENV){var i=Bt[t],o=i?"function"==typeof i?i.apply(null,r):i:"unknown error nr: "+t;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function at(t){return!!t&&!!t[Vt]}function st(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var n=Object.getPrototypeOf(t);return!n||n===Object.prototype}(t)||Array.isArray(t)||!!t[Gt]||!!t.constructor[Gt]||dt(t)||pt(t))}function lt(t,n,r){void 0===r&&(r=!1),0===vt(t)?(r?Object.keys:Ht)(t).forEach(function(r){return n(r,t[r],t)}):t.forEach(function(r,e){return n(e,r,t)})}function vt(t){var n=t[Vt];return n?n.i>3?n.i-4:n.i:Array.isArray(t)?1:dt(t)?2:pt(t)?3:0}function ht(t,n){return 2===vt(t)?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function yt(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function dt(t){return Wt&&t instanceof Map}function pt(t){return Jt&&t instanceof Set}function bt(t){return t.o||t.t}function mt(t,n){if(void 0===n&&(n=!1),Array.isArray(t))return t.slice();var r=Object.create(Object.getPrototypeOf(t));return lt(t,function(e){if(e!==Vt){var i=Object.getOwnPropertyDescriptor(t,e),o=i.value;i.get&&(n||ct(1),o=i.get.call(t)),i.enumerable?r[e]=o:Object.defineProperty(r,e,{value:o,writable:!0,configurable:!0})}}),r}function wt(t,n){at(t)||jt(t)||!st(t)||(vt(t)>1&&(t.set=t.add=t.clear=t.delete=St),Object.freeze(t),n&&lt(t,function(t,n){return wt(n,!0)},!0))}function St(){ct(2)}function jt(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Ot(t){var n=Qt[t];return n||ct("production"!==process.env.NODE_ENV?18:19,t),n}function _t(t,n){Qt[t]=n}function gt(){return"production"===process.env.NODE_ENV||Ut||ct(0),Ut}function Tt(t,n){n&&(Ot("Patches"),t.u=[],t.s=[],t.v=n)}function Mt(t){Pt(t),t.p.forEach(At),t.p=null}function Pt(t){t===Ut&&(Ut=t.l)}function Et(t){return Ut={p:[],l:Ut,h:t,m:!0,_:0}}function At(t){var n=t[Vt];0===n.i||1===n.i?n.j():n.O=!0}function xt(t,n){n._=n.p.length;var r=n.p[0],e=void 0!==t&&t!==r;return n.h.g||Ot("ES5").S(n,t,e),e?(r[Vt].P&&(Mt(n),ct(4)),st(t)&&(t=It(n,t),n.l||kt(n,t)),n.u&&Ot("Patches").M(r[Vt],t,n.u,n.s)):t=It(n,r,[]),Mt(n),n.u&&n.v(n.u,n.s),t!==qt?t:void 0}function It(t,n,r){if(jt(n))return n;var e=n[Vt];if(!e)return lt(n,function(i,o){return Ct(t,e,n,i,o,r)},!0),n;if(e.A!==t)return n;if(!e.P)return kt(t,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var i=4===e.i||5===e.i?e.o=mt(e.k,!0):e.o;lt(i,function(n,o){return Ct(t,e,i,n,o,r)}),kt(t,i,!1),r&&t.u&&Ot("Patches").R(e,r,t.u,t.s)}return e.o}function Ct(t,n,r,e,i,o){if("production"!==process.env.NODE_ENV&&i===r&&ct(5),at(i)){var u=It(t,i,o&&n&&3!==n.i&&!ht(n.D,e)?o.concat(e):void 0);if(c=e,a=u,2===(s=vt(f=r))?f.set(c,a):3===s?(f.delete(c),f.add(a)):f[c]=a,!at(u))return;t.m=!1}var f,c,a,s,l,v;if((!n||!yt(i,(l=n.t,v=e,2===vt(l)?l.get(v):l[v])))&&st(i)){if(!t.h.N&&t._<1)return;It(t,i),n&&n.A.l||kt(t,i)}}function kt(t,n,r){void 0===r&&(r=!1),t.h.N&&t.m&&wt(n,r)}function Rt(t,n){var r=t[Vt],e=Reflect.getOwnPropertyDescriptor(r?bt(r):t,n);return e&&e.value}function Ft(t){if(!t.P){if(t.P=!0,0===t.i||1===t.i){var n=t.o=mt(t.t);lt(t.p,function(t,r){n[t]=r}),t.p=void 0}t.l&&Ft(t.l)}}function zt(t){t.o||(t.o=mt(t.t))}function Dt(t,n,r){var e=dt(n)?Ot("MapSet").T(n,r):pt(n)?Ot("MapSet").F(n,r):t.g?function(t,n){var r=Array.isArray(t),e={i:r?1:0,A:n?n.A:gt(),P:!1,I:!1,D:{},l:n,t:t,k:null,p:{},o:null,j:null,C:!1},i=e,o=Yt;r&&(i=[e],o=Zt);var u=Proxy.revocable(i,o),f=u.revoke,c=u.proxy;return e.k=c,e.j=f,c}(n,r):Ot("ES5").J(n,r);return(r?r.A:gt()).p.push(e),e}function Nt(t,n){t.g?Ft(n):Ot("ES5").K(n)}var $t,Ut,Kt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Wt="undefined"!=typeof Map,Jt="undefined"!=typeof Set,Lt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,qt=Kt?Symbol("immer-nothing"):(($t={})["immer-nothing"]=!0,$t),Gt=Kt?Symbol("immer-draftable"):"__$immer_draftable",Vt=Kt?Symbol("immer-state"):"__$immer_state",Xt="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Bt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},19:function(t){return"plugin not loaded: "+t},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available"},Ht="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Qt={},Yt={get:function(t,n){if(n===Vt)return t;var r=t.p;if(!t.P&&ht(r,n))return r[n];var e=bt(t)[n];if(t.I||!st(e))return e;if(t.P){if(e!==Rt(t.t,n))return e;r=t.o}return r[n]=Dt(t.A.h,e,t)},has:function(t,n){return n in bt(t)},ownKeys:function(t){return Reflect.ownKeys(bt(t))},set:function(t,n,r){if(!t.P){var e=Rt(t.t,n);if(r?yt(e,r)||r===t.p[n]:yt(e,r)&&n in t.t)return!0;zt(t),Ft(t)}return t.D[n]=!0,t.o[n]=r,!0},deleteProperty:function(t,n){return void 0!==Rt(t.t,n)||n in t.t?(t.D[n]=!1,zt(t),Ft(t)):t.D[n]&&delete t.D[n],t.o&&delete t.o[n],!0},getOwnPropertyDescriptor:function(t,n){var r=bt(t),e=Reflect.getOwnPropertyDescriptor(r,n);return e&&(e.writable=!0,e.configurable=1!==t.i||"length"!==n),e},defineProperty:function(){ct(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ct(12)}},Zt={};lt(Yt,function(t,n){Zt[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),Zt.deleteProperty=function(t,n){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(n))&&ct(13),Yt.deleteProperty.call(this,t[0],n)},Zt.set=function(t,n,r){return"production"!==process.env.NODE_ENV&&"length"!==n&&isNaN(parseInt(n))&&ct(14),Yt.set.call(this,t[0],n,r,t[0])};var tn=new(function(){function t(t){this.g=Lt,this.N="production"!==process.env.NODE_ENV,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var n=t.prototype;return n.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var e=n;n=t;var i=this;return function(t){var r=this;void 0===t&&(t=e);for(var o=arguments.length,u=Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];return i.produce(t,function(t){var e;return(e=n).call.apply(e,[r,t].concat(u))})}}var o;if("function"!=typeof n&&ct(6),void 0!==r&&"function"!=typeof r&&ct(7),st(t)){var u=Et(this),f=Dt(this,t,void 0),c=!0;try{o=n(f),c=!1}finally{c?Mt(u):Pt(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(t){return Tt(u,r),xt(t,u)},function(t){throw Mt(u),t}):(Tt(u,r),xt(o,u))}if((o=n(t))!==qt)return void 0===o&&(o=t),this.N&&wt(o,!0),o},n.produceWithPatches=function(t,n){var r,e,i=this;return"function"==typeof t?function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return i.produceWithPatches(n,function(n){return t.apply(void 0,[n].concat(e))})}:[this.produce(t,n,function(t,n){r=t,e=n}),r,e]},n.createDraft=function(t){st(t)||ct(8);var n=Et(this),r=Dt(this,t,void 0);return r[Vt].C=!0,Pt(n),r},n.finishDraft=function(t,n){var r=t&&t[Vt];"production"!==process.env.NODE_ENV&&(r&&r.C||ct(9),r.I&&ct(10));var e=r.A;return Tt(e,n),xt(void 0,e)},n.setAutoFreeze=function(t){this.N=t},n.setUseProxies=function(t){Lt||ct(20),this.g=t},n.applyPatches=function(t,n){var r;for(r=n.length-1;r>=0;r--){var e=n[r];if(0===e.path.length&&"replace"===e.op){t=e.value;break}}var i=Ot("Patches").U;return at(t)?i(t,n):this.produce(t,function(t){return i(t,n.slice(r+1))})},t}()),nn=(tn.produceWithPatches.bind(tn),tn.setAutoFreeze.bind(tn),tn.setUseProxies.bind(tn),tn.applyPatches.bind(tn),tn.createDraft.bind(tn)),rn=tn.finishDraft.bind(tn),en="function"==typeof Symbol?Symbol():"__store__",on="function"==typeof Symbol?Symbol():"__stores__",un="function"==typeof Symbol?Symbol():"__refresh__",fn=function(){function t(t){this.count=0,this.service=t}return t.prototype.start=function(t){var n,r=this;if(void 0===t&&(t=!0),0==this.count){var e=this.draft=null!==(n=this.draft)&&void 0!==n?n:nn(this.service);this.service[on].forEach(function(t){r.service[t]=e[t]})}t&&this.count++},t.prototype.finish=function(t,n){var r=this;if(void 0===t&&(t=!0),void 0===n&&(n=!0),0==this.count)console.warn("the finish method must be called after corresponding start method");else if(n&&this.count--,0==this.count){var e=this.draft;if(e){this.service[on].forEach(function(t){e[t]=r.service[t]});var i=rn(e);this.service[on].forEach(function(t){r.service[t]=i[t]}),this.draft=void 0}}t&&this.service.RefreshContext()},t}(),cn=function(t){function n(){var n,r=t.call(this)||this;return r[on]=null!==(n=r[on])&&void 0!==n?n:[],r[Gt]=!0,r[en]=new fn(r),r}return u(n,t),n.prototype.initProvider=function(t){this[un]=t,this[en].start(),this[en].finish()},n.prototype.RefreshContext=function(){this[un]&&this[un]()},n.prototype.waitForAsync=function(t){return f(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:this[en].finish(!0,!1),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,t];case 2:return[2,n.sent()];case 3:return this[en].start(!1),[7];case 4:return[2]}})})},n}(ot);var an=function(t,n){return f(void 0,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,n];case 1:return[2,r.sent()];case 2:return t[en].finish(),[7];case 3:return[2]}})})},sn=function(t){return t&&"function"==typeof t.then};t.InjectedService=ot,t.inject=p,t.provider=ut,t.registerIn=ft,t.Inject=p,t.Provider=ut,t.RegisterIn=ft,t.toClass=nt,t.toExisting=function(t){return rt(function(n){return y(n,t)})},t.toFactory=function(t,n){return rt(n?function(r){return n.apply(void 0,t.map(function(t){return y(r,t)}))}:t)},t.toValue=function(t){return rt(function(){return t})},t.useInstance=function(t){var r,e=n.useRef(void 0),i=null===(r=n.useContext(l))||void 0===r?void 0:r.injector;return e.current||(e.current=y(i,t))},t.useInstances=function(){for(var t,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var i=n.useRef(null),o=null===(t=n.useContext(l))||void 0===t?void 0:t.injector;return i.current||(i.current=r.map(function(t){return y(o,t)}))},t.ImmutableService=cn,t.action=function(){return function(t,n,r){var e=r.value;r.value=function(t){this[en].start();var n=!1;try{var r=e.call(this,t);return(n=sn(r))?an(this,r):r}finally{n||this[en].finish()}}}},t.store=function(){return function(t,n){var r,e=t;e[on]=null!==(r=e[on])&&void 0!==r?r:[],e[on].push(n)}},t.original=function(t){if(t&&t[Vt])return t[Vt].t},t.enableES5=function(){function t(t,n){var r=t[Vt];if(r&&!r.$){r.$=!0;var e=t[n];return r.$=!1,e}return t[n]}function n(t){t.P||(t.P=!0,t.l&&n(t.l))}function r(t){t.o||(t.o=e(t.t))}function e(t){var n=t&&t[Vt];if(n){n.$=!0;var r=mt(n.k,!0);return n.$=!1,r}return mt(t)}function i(t){for(var r=t.length-1;r>=0;r--){var e=t[r][Vt];if(!e.P)switch(e.i){case 5:u(e)&&n(e);break;case 4:o(e)&&n(e)}}}function o(t){for(var n=t.t,r=t.k,e=Object.keys(r),i=e.length-1;i>=0;i--){var o=e[i],u=n[o];if(void 0===u&&!ht(n,o))return!0;var f=r[o],c=f&&f[Vt];if(c?c.t!==u:!yt(f,u))return!0}return e.length!==Object.keys(n).length}function u(t){var n=t.k;if(n.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(n,n.length-1);return!(!r||r.get)}function f(t){t.O&&ct(3,JSON.stringify(bt(t)))}var c={};_t("ES5",{J:function(i,o){var u=Array.isArray(i),a=e(i);lt(a,function(e){!function(e,i,o){var u=c[i];u?u.enumerable=o:c[i]=u={enumerable:o,get:function(){return function(n,e){f(n);var i=t(bt(n),e);return n.$?i:i===t(n.t,e)&&st(i)?(r(n),n.o[e]=Dt(n.A.h,i,n)):i}(this[Vt],i)},set:function(e){!function(e,i,o){if(f(e),e.D[i]=!0,!e.P){if(yt(o,t(bt(e),i)))return;n(e),r(e)}e.o[i]=o}(this[Vt],i,e)}},Object.defineProperty(e,i,u)}(a,e,u||function(t,n){var r=Object.getOwnPropertyDescriptor(t,n);return!(!r||!r.enumerable)}(i,e))});var s={i:u?5:4,A:o?o.A:gt(),P:!1,$:!1,I:!1,D:{},l:o,t:i,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,Vt,{value:s,writable:!0}),a},K:n,S:function(t,r,e){t.p.forEach(function(t){t[Vt].$=!0}),e?at(r)&&r[Vt].A===t&&i(t.p):(t.u&&function t(r){if(r&&"object"==typeof r){var e=r[Vt];if(e){var i=e.t,o=e.k,f=e.D,c=e.i;if(4===c)lt(o,function(r){r!==Vt&&(void 0!==i[r]||ht(i,r)?f[r]||t(o[r]):(f[r]=!0,n(e)))}),lt(i,function(t){void 0!==o[t]||ht(o,t)||(f[t]=!1,n(e))});else if(5===c){if(u(e)&&(n(e),f.length=!0),o.length<i.length)for(var a=o.length;a<i.length;a++)f[a]=!1;else for(var s=i.length;s<o.length;s++)f[s]=!0;for(var l=Math.min(o.length,i.length),v=0;v<l;v++)void 0===f[v]&&t(o[v])}}}}(t.p[0]),i(t.p))}})},t.enableMapSet=function(){function t(t,n){function r(){this.constructor=t}i(t,n),t.prototype=(r.prototype=n.prototype,new r)}function n(t){t.o||(t.D=new Map,t.o=new Map(t.t))}function r(t){t.o||(t.o=new Set,t.t.forEach(function(n){if(st(n)){var r=Dt(t.A.h,n,t);t.p.set(n,r),t.o.add(r)}else t.o.add(n)}))}function e(t){t.O&&ct(3,JSON.stringify(bt(t)))}var i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},o=function(){function r(t,n){return this[Vt]={i:2,l:n,A:n?n.A:gt(),P:!1,I:!1,o:void 0,D:void 0,t:t,k:this,C:!1,O:!1},this}t(r,Map);var i=r.prototype;return Object.defineProperty(i,"size",{get:function(){return bt(this[Vt]).size}}),i.has=function(t){return bt(this[Vt]).has(t)},i.set=function(t,r){var i=this[Vt];return e(i),bt(i).get(t)!==r&&(n(i),Nt(i.A.h,i),i.D.set(t,!0),i.o.set(t,r),i.D.set(t,!0)),this},i.delete=function(t){if(!this.has(t))return!1;var r=this[Vt];return e(r),n(r),Nt(r.A.h,r),r.D.set(t,!1),r.o.delete(t),!0},i.clear=function(){var t=this[Vt];return e(t),n(t),Nt(t.A.h,t),t.D=new Map,t.o.clear()},i.forEach=function(t,n){var r=this;bt(this[Vt]).forEach(function(e,i){t.call(n,r.get(i),i,r)})},i.get=function(t){var r=this[Vt];e(r);var i=bt(r).get(t);if(r.I||!st(i))return i;if(i!==r.t.get(t))return i;var o=Dt(r.A.h,i,r);return n(r),r.o.set(t,o),o},i.keys=function(){return bt(this[Vt]).keys()},i.values=function(){var t,n=this,r=this.keys();return(t={})[Xt]=function(){return n.values()},t.next=function(){var t=r.next();return t.done?t:{done:!1,value:n.get(t.value)}},t},i.entries=function(){var t,n=this,r=this.keys();return(t={})[Xt]=function(){return n.entries()},t.next=function(){var t=r.next();if(t.done)return t;var e=n.get(t.value);return{done:!1,value:[t.value,e]}},t},i[Xt]=function(){return this.entries()},r}(),u=function(){function n(t,n){return this[Vt]={i:3,l:n,A:n?n.A:gt(),P:!1,I:!1,o:void 0,t:t,k:this,p:new Map,O:!1,C:!1},this}t(n,Set);var i=n.prototype;return Object.defineProperty(i,"size",{get:function(){return bt(this[Vt]).size}}),i.has=function(t){var n=this[Vt];return e(n),n.o?!!n.o.has(t)||!(!n.p.has(t)||!n.o.has(n.p.get(t))):n.t.has(t)},i.add=function(t){var n=this[Vt];return e(n),this.has(t)||(r(n),Nt(n.A.h,n),n.o.add(t)),this},i.delete=function(t){if(!this.has(t))return!1;var n=this[Vt];return e(n),r(n),Nt(n.A.h,n),n.o.delete(t)||!!n.p.has(t)&&n.o.delete(n.p.get(t))},i.clear=function(){var t=this[Vt];return e(t),r(t),Nt(t.A.h,t),t.o.clear()},i.values=function(){var t=this[Vt];return e(t),r(t),t.o.values()},i.entries=function(){var t=this[Vt];return e(t),r(t),t.o.entries()},i.keys=function(){return this.values()},i[Xt]=function(){return this.values()},i.forEach=function(t,n){for(var r=this.values(),e=r.next();!e.done;)t.call(n,e.value,e.value,this),e=r.next()},n}();_t("MapSet",{T:function(t,n){return new o(t,n)},F:function(t,n){return new u(t,n)}})},t.ComponentWithServices=function(t){var r=t.services,e=t.children,i=t.deps,o=n.useCallback(ut.apply(void 0,r)(function(){return n.createElement(n.Fragment,{},e)}),null!=i?i:[]);return n.createElement(o)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.min.js.map
