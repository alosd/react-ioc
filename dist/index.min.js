"use strict";function n(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0}),require("reflect-metadata");var t=require("tslib"),r=n(require("hoist-non-react-statics")),u=require("react"),i=function(){function n(){this.handlers=[]}return n.prototype.on=function(n){return this.handlers.push(n),n},n.prototype.off=function(n){this.handlers=this.handlers.filter(function(t){return t!==n})},n.prototype.trigger=function(n){this.handlers.slice(0).forEach(function(t){return t(n)})},n}();function o(n){return"function"==typeof n}function e(n){return n&&"object"==typeof n}var f="function"==typeof Symbol?Symbol():"__injector__",c=u.createContext({}),a=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.t=new i,t}return t.__extends(r,n),r}(u.Component);function v(n){var t,r=n[f];return r||((r=s||(null===(t=n.context)||void 0===t?void 0:t.injector))instanceof a?(n[f]=r,r):void 0)}var s=null;function l(n,t){for(p.length>0&&(p.forEach(function(n){n()}),p.length=0);n;){var r=n.u.get(t);if(void 0!==r)return r;var u=n.i.get(t);if(u){var i=s;s=n;try{r=u(n)}finally{s=i}return n.u.set(t,r),n.o(r),r}n=n.v}}var p=[];function b(n,t){if(o(t))return h(n,t);var r=n;return t?u(r,t):u;function u(n,t){n.constructor.contextType=c,r||(r=Reflect.getMetadata("design:type",n,t));var u={configurable:!0,enumerable:!0,get:function(){var n=h(this,r);return Object.defineProperty(this,t,{enumerable:!0,writable:!0,value:n}),n},set:function(n){Object.defineProperty(this,t,{enumerable:!0,writable:!0,value:n})}};return Object.defineProperty(n,t,u),u}}function h(n,t){return l(v(n),t)}var d="function"==typeof Symbol?Symbol():"__binding__";function y(n){return m(function(t){var r=new n;return r[f]||(r[f]=t),r})}function x(n,t){return m(t?function(r){return t.apply(void 0,n.map(function(n){return l(r,n)}))}:n)}function _(n){return m(function(){return n})}function j(n){return m(function(t){return l(t,n)})}function m(n){return n[d]=!0,n}function w(n,t){t.forEach(function(t){var r,u,i;"object"==typeof t&&t.token&&t.binding&&(u=t.token,i=t.binding),Array.isArray(t)?(u=t[0],i=void 0===(r=t[1])?u:r):u=i=t,n.set(u,i[d]?i:y(i))})}var S="function"==typeof Symbol?Symbol():"__init__",g=function(){return function(){}}(),q=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(i){var f=new Map;w(f,n);var v=function(n){function r(){var t,r=n.apply(this,arguments)||this;return r.v=null===(t=r.context)||void 0===t?void 0:t.injector,r.i=f,r.u=new Map,r.state={injector:r},r}return t.__extends(r,n),r.prototype.o=function(n){var t=this;n instanceof g&&!n[S]&&(n.initProvider(function(){t.setState({injector:t}),t.t.trigger()}),n[S]=!0)},r.prototype.componentDidMount=function(){var n=this;this.u.forEach(function(t){n.o(t)})},r.prototype.componentWillUnmount=function(){this.u.forEach(function(n){e(n)&&o(n.dispose)&&n.dispose()})},r.prototype.render=function(){return u.createElement(c.Provider,{value:this.state},u.createElement(i,this.props))},r.register=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];w(f,n)},r.WrappedComponent=i,r}(a);return v.contextType=c,r(v,i)}},O=function(n,t){return function(r){return p.push(function(){n().register(t?[r,t]:r)}),r}};function M(n){var t,r=u.useRef(void 0),i=null===(t=u.useContext(c))||void 0===t?void 0:t.injector,o=r.current||(r.current=l(i,n)),e=u.useState({})[1];return u.useEffect(function(){var t,r;if(i&&o&&!i.u.has(n))for(var u=i.v;u;)u.u.has(n)&&(r=u,t=u.t.on(function(){return e({})})),u=u.v;return function(){r&&r.t.off(t)}},[]),o}function A(){for(var n,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=u.useRef(null),o=null===(n=u.useContext(c))||void 0===n?void 0:n.injector,e=i.current||(i.current=t.map(function(n){return l(o,n)})),f=u.useState({})[1];return u.useEffect(function(){var n=[];return o&&t.forEach(function(t){if(!o.u.has(t))for(var r=o.v;r;)r.u.has(t)&&n.push({publisher:r,event:r.t.on(function(){return f({})})}),r=r.v}),function(){n.forEach(function(n){return n.publisher.t.off(n.event)})}},[]),e}var R=function(n){var t=n.children;return u.createElement(u.Fragment,null,t)},k=function(n){var t=n.services,r=n.children,i=u.useRef(q.apply(void 0,t)(R));return u.createElement(i.current,null,r)};exports.InjectedService=g,exports.inject=b,exports.provider=q,exports.registerIn=O,exports.Inject=b,exports.Provider=q,exports.RegisterIn=O,exports.toClass=y,exports.toExisting=j,exports.toFactory=x,exports.toValue=_,exports.useInstance=M,exports.useInstances=A,exports.ComponentWithServices=k,exports.LiteEventImpl=i;
//# sourceMappingURL=index.min.js.map
