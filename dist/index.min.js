"use strict";function n(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0}),require("reflect-metadata");var t=require("tslib"),r=n(require("hoist-non-react-statics")),e=require("react");function u(n){return"function"==typeof n}function o(n){return n&&"object"==typeof n}var i="function"==typeof Symbol?Symbol():"__injector__",f=e.createContext({}),c=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return t.__extends(r,n),r}(e.Component);function a(n){var t,r=n[i];return r||((r=v||(null===(t=n.context)||void 0===t?void 0:t.injector))instanceof c?(n[i]=r,r):void 0)}var v=null;function l(n,t){for(s.length>0&&(s.forEach(function(n){n()}),s.length=0);n;){var r=n.t.get(t);if(void 0!==r)return r;var e=n.u.get(t);if(e){var u=v;v=n;try{r=e(n)}finally{v=u}return n.t.set(t,r),n.o(r),r}n=n.i}}var s=[];function p(n,t){if(u(t))return b(n,t);var r=n;return t?e(r,t):e;function e(n,t){n.constructor.contextType=f,r||(r=Reflect.getMetadata("design:type",n,t));var e={configurable:!0,enumerable:!0,get:function(){var n=b(this,r);return Object.defineProperty(this,t,{enumerable:!0,writable:!0,value:n}),n},set:function(n){Object.defineProperty(this,t,{enumerable:!0,writable:!0,value:n})}};return Object.defineProperty(n,t,e),e}}function b(n,t){return l(a(n),t)}var d="function"==typeof Symbol?Symbol():"__binding__";function y(n){return j(function(t){var r=new n;return r[i]||(r[i]=t),r})}function x(n,t){return j(t?function(r){return t.apply(void 0,n.map(function(n){return l(r,n)}))}:n)}function h(n){return j(function(){return n})}function _(n){return j(function(t){return l(t,n)})}function j(n){return n[d]=!0,n}function m(n,t){t.forEach(function(t){var r,e,u;"object"==typeof t&&t.token&&t.binding&&(e=t.token,u=t.binding),Array.isArray(t)?(e=t[0],u=void 0===(r=t[1])?e:r):e=u=t,n.set(e,u[d]?u:y(u))})}var S="function"==typeof Symbol?Symbol():"__init__",w=function(){return function(){}}(),g=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(i){var a=new Map;m(a,n);var v=function(n){function r(){var t,r=n.apply(this,arguments)||this;return r.i=null===(t=r.context)||void 0===t?void 0:t.injector,r.u=a,r.t=new Map,r.state={injector:r},r}return t.__extends(r,n),r.prototype.o=function(n){var t=this;n instanceof w&&!n[S]&&(n.initProvider(function(){return t.setState({injector:t})}),n[S]=!0)},r.prototype.componentDidMount=function(){var n=this;this.t.forEach(function(t){n.o(t)})},r.prototype.componentWillUnmount=function(){this.t.forEach(function(n){o(n)&&u(n.dispose)&&n.dispose()})},r.prototype.render=function(){return e.createElement(f.Provider,{value:this.state},e.createElement(i,this.props))},r.register=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];m(a,n)},r.WrappedComponent=i,r}(c);return v.contextType=f,r(v,i)}},q=function(n,t){return function(r){return s.push(function(){n().register(t?[r,t]:r)}),r}};function O(n){var t,r=e.useRef(void 0),u=null===(t=e.useContext(f))||void 0===t?void 0:t.injector;return r.current||(r.current=l(u,n))}function M(){for(var n,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var u=e.useRef(null),o=null===(n=e.useContext(f))||void 0===n?void 0:n.injector;return u.current||(u.current=t.map(function(n){return l(o,n)}))}var A=function(n){var t=n.children;return e.createElement(e.Fragment,null,t)},R=function(n){var t=n.services,r=n.children,u=e.useRef(g.apply(void 0,t)(A));return e.createElement(u.current,null,r)};exports.InjectedService=w,exports.inject=p,exports.provider=g,exports.registerIn=q,exports.Inject=p,exports.Provider=g,exports.RegisterIn=q,exports.toClass=y,exports.toExisting=_,exports.toFactory=x,exports.toValue=h,exports.useInstance=O,exports.useInstances=M,exports.ComponentWithServices=R;
//# sourceMappingURL=index.min.js.map
